# ğŸ—ï¸ TradingBot AI - ì™„ì „ ìë™ë§¤ë§¤ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

**ë²„ì „**: v2.0.0
**ìµœì¢… ì—…ë°ì´íŠ¸**: 2025-01-18
**ìƒíƒœ**: ì„¤ê³„ ì™„ë£Œ, êµ¬í˜„ ì§„í–‰ ì¤‘

---

## ğŸ“‹ ëª©ì°¨

1. [ì‹œìŠ¤í…œ ê°œìš”](#ì‹œìŠ¤í…œ-ê°œìš”)
2. [ì „ì²´ í”Œë¡œìš°](#ì „ì²´-í”Œë¡œìš°)
3. [ê¸°ìˆ  ìŠ¤íƒ](#ê¸°ìˆ -ìŠ¤íƒ)
4. [ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨](#ì•„í‚¤í…ì²˜-ë‹¤ì´ì–´ê·¸ë¨)
5. [ë°±ì—”ë“œ ì•„í‚¤í…ì²˜](#ë°±ì—”ë“œ-ì•„í‚¤í…ì²˜)
6. [í”„ë¡ íŠ¸ì—”ë“œ ì•„í‚¤í…ì²˜](#í”„ë¡ íŠ¸ì—”ë“œ-ì•„í‚¤í…ì²˜)
7. [ë³´ì•ˆ ì•„í‚¤í…ì²˜](#ë³´ì•ˆ-ì•„í‚¤í…ì²˜)
8. [ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„](#ë°ì´í„°ë² ì´ìŠ¤-ì„¤ê³„)
9. [API ì„¤ê³„](#api-ì„¤ê³„)
10. [ë°°í¬ ì „ëµ](#ë°°í¬-ì „ëµ)

---

## ì‹œìŠ¤í…œ ê°œìš”

### í•µì‹¬ ëª©í‘œ
**ì‚¬ìš©ìê°€ í´ë¦­ ëª‡ ë²ˆìœ¼ë¡œ ì™„ì „ ìë™ë§¤ë§¤ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•  ìˆ˜ ìˆëŠ” í”Œë«í¼**

### ì£¼ìš” íŠ¹ì§•
- âœ… **ì‚¬ìš©ì ì¹œí™”ì  UI/UX**: ë¹„ê°œë°œìë„ 5ë¶„ ë‚´ ì„¤ì • ì™„ë£Œ
- âœ… **ì™„ì „ ìë™í™”**: AI ì§€í‘œ ì„¤ê³„ â†’ TradingView ì—°ë™ â†’ ìë™ ì£¼ë¬¸ â†’ ìˆ˜ìµë¥  ì•Œë¦¼
- âœ… **ë³´ì•ˆ ìµœìš°ì„ **: AES-256 ì•”í˜¸í™”, 2FA, Rate Limiting, IP í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸
- âœ… **ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§**: WebSocket ê¸°ë°˜ ì‹¤ì‹œê°„ í¬ì§€ì…˜/ìˆ˜ìµë¥  ì¶”ì 
- âœ… **ë¦¬ìŠ¤í¬ ê´€ë¦¬**: í¬ì§€ì…˜ ì‚¬ì´ì§•, ì†ì ˆ/ìµì ˆ ìë™í™”, ë ˆë²„ë¦¬ì§€ ì œì–´

### ëŒ€ìƒ ì‚¬ìš©ì
- ì•”í˜¸í™”í ìë™ë§¤ë§¤ë¥¼ ì‹œì‘í•˜ë ¤ëŠ” ì´ˆë³´ì
- ìˆ˜ë™ ë§¤ë§¤ì—ì„œ ìë™í™”ë¡œ ì „í™˜í•˜ë ¤ëŠ” ì¤‘ê¸‰ì
- ì—¬ëŸ¬ ì „ëµì„ ë™ì‹œì— ìš´ì˜í•˜ë ¤ëŠ” ê³ ê¸‰ íŠ¸ë ˆì´ë”

---

## ì „ì²´ í”Œë¡œìš°

### 1ï¸âƒ£ ì‚¬ìš©ì ì˜¨ë³´ë”© í”Œë¡œìš°
```
íšŒì›ê°€ì… (ì´ë©”ì¼ ì¸ì¦)
    â†“
2FA ì„¤ì • (Google Authenticator)
    â†“
ê±°ë˜ì†Œ API í‚¤ ë“±ë¡ (Binance/OKX)
    â†“
í…”ë ˆê·¸ë¨ ë´‡ ì—°ë™ (BotFather í† í°)
    â†“
ì „ëµ ì„ íƒ ë˜ëŠ” ì»¤ìŠ¤í…€ ì„¤ì •
    â†“
ë°±í…ŒìŠ¤íŒ… (ì„ íƒì‚¬í•­)
    â†“
ì‹¤ì „ íŠ¸ë ˆì´ë”© ì‹œì‘
```

### 2ï¸âƒ£ ìë™ë§¤ë§¤ ì‹¤í–‰ í”Œë¡œìš°
```
AI ì§€í‘œ ì„¤ê³„
  â”œâ”€ ìµœì‹  íŠ¸ë Œë“œ ë¶„ì„ (GPT-4 + Claude)
  â”œâ”€ ì°¨íŠ¸ íŒ¨í„´ ë¶„ì„ (ê¸°ìˆ ì  ë¶„ì„)
  â”œâ”€ ê±°ë˜ëŸ‰ ë¶„ì„ (Volume Profile)
  â””â”€ í”„ë™íƒˆ í˜„ìƒ ë¶„ì„ (Fractal Geometry)
    â†“
TradingView Pine Script ì¸ë””ì¼€ì´í„° ì„¤ì •
  â”œâ”€ ìë™ ìƒì„±ëœ Pine Script
  â”œâ”€ Webhook ì•Œë¦¼ ì„¤ì •
  â””â”€ ì‚¬ìš©ì ë§ì¶¤ íŒŒë¼ë¯¸í„° ì ìš©
    â†“
ë°±ì—”ë“œ Webhook ìˆ˜ì‹ 
  â”œâ”€ HMAC ì„œëª… ê²€ì¦
  â”œâ”€ Replay Attack ë°©ì§€
  â””â”€ ì£¼ë¬¸ ì¤€ë¹„ (ë¦¬ìŠ¤í¬ ì²´í¬)
    â†“
Binance/OKX API ì£¼ë¬¸ ì‹¤í–‰
  â”œâ”€ í¬ì§€ì…˜ ì‚¬ì´ì§• (ê³„ì¢Œì˜ X%)
  â”œâ”€ ë ˆë²„ë¦¬ì§€ ì„¤ì • (ì‚¬ìš©ì ì§€ì •)
  â”œâ”€ ì†ì ˆ/ìµì ˆ ì£¼ë¬¸ ìë™ ì„¤ì •
  â””â”€ ì£¼ë¬¸ ì²´ê²° í™•ì¸
    â†“
í…”ë ˆê·¸ë¨ ì£¼ë¬¸ í˜„í™© ì•Œë¦¼
  â”œâ”€ ì§„ì…ê°€, ìˆ˜ëŸ‰, ë ˆë²„ë¦¬ì§€
  â”œâ”€ ì†ì ˆê°€, ìµì ˆê°€
  â””â”€ ì˜ˆìƒ ì†ìµ
    â†“
AI ì§€ì† ë¶„ì„
  â”œâ”€ ì‹œì¥ ìƒí™© ëª¨ë‹ˆí„°ë§
  â”œâ”€ í¬ì§€ì…˜ ë¦¬ìŠ¤í¬ í‰ê°€
  â””â”€ ì¡°ê¸° ì²­ì‚° ê¶Œì¥ ì—¬ë¶€
    â†“
ì£¼ìš” ìˆ˜ìµë¥  í…”ë ˆê·¸ë¨ ì•Œë¦¼
  â”œâ”€ 1% ì´ìƒ ë³€ë™ ì‹œ ì‹¤ì‹œê°„ ì•Œë¦¼
  â”œâ”€ ì¼ì¼ ìˆ˜ìµë¥  ë¦¬í¬íŠ¸
  â””â”€ ì£¼ê°„/ì›”ê°„ ì„±ê³¼ ìš”ì•½
```

### 3ï¸âƒ£ ì‚¬ìš©ì í”„ë¡œì„¸ìŠ¤ ì—…ë°ì´íŠ¸ í”Œë¡œìš°
```
ì‚¬ìš©ì ë¡œê·¸ì¸
    â†“
ì„¤ì • í˜ì´ì§€ ì ‘ê·¼
    â†“
â‘  Binance/OKX API ì„¤ì •
  â”œâ”€ API Key/Secret ì…ë ¥
  â”œâ”€ ìë™ ì•”í˜¸í™” (AES-256)
  â”œâ”€ ì—°ê²° í…ŒìŠ¤íŠ¸
  â””â”€ IP í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ í™•ì¸
    â†“
â‘¡ í…”ë ˆê·¸ë¨ ë´‡ ì„¤ì •
  â”œâ”€ BotFatherì—ì„œ í† í° ë°œê¸‰
  â”œâ”€ í† í° ì…ë ¥
  â”œâ”€ Chat ID ìë™ í™•ì¸
  â””â”€ í…ŒìŠ¤íŠ¸ ì•Œë¦¼ ë°œì†¡
    â†“
â‘¢ TradingView ì¸ë””ì¼€ì´í„° ì„¤ì •
  â”œâ”€ ì¸ë””ì¼€ì´í„° ê²€ìƒ‰ (5ê°œ í…œí”Œë¦¿ + ì»¤ìŠ¤í…€)
  â”œâ”€ íŒŒë¼ë¯¸í„° ì¡°ì • (EMA ê¸°ê°„, RSI ì„ê³„ê°’ ë“±)
  â”œâ”€ Webhook URL ìë™ ìƒì„±
  â””â”€ Pine Script ë³µì‚¬ â†’ TradingView ì ìš©
    â†“
â‘£ ë³¸ì¸ë§Œì˜ ì „ëµ ì„¤ì •
  â”œâ”€ íˆ¬ì…ê¸ˆ: ì „ì²´ ë‹´ë³´ê¸ˆ(Deposit)ì˜ ëª‡ %
  â”œâ”€ ë¡± ì§„ì… ì‹œ ìµì ˆ ëª©í‘œ: +X% (ì˜ˆ: +5%)
  â”œâ”€ ë¡± ì§„ì… ì‹œ ì†ì ˆ ëª©í‘œ: -X% (ì˜ˆ: -2%)
  â”œâ”€ ìˆ ì§„ì… ì‹œ ìµì ˆ ëª©í‘œ: -X% (ì˜ˆ: -5%)
  â”œâ”€ ìˆ ì§„ì… ì‹œ ì†ì ˆ ëª©í‘œ: +X% (ì˜ˆ: +2%)
  â””â”€ ì„ ë¬¼ ë ˆë²„ë¦¬ì§€ ë°°ìˆ˜: 1x ~ 125x
    â†“
â‘¤ ë°±í…ŒìŠ¤íŒ… (ì„ íƒì‚¬í•­)
  â”œâ”€ ê³¼ê±° 6ê°œì›” ë°ì´í„°ë¡œ ì‹œë®¬ë ˆì´ì…˜
  â”œâ”€ ì˜ˆìƒ ìˆ˜ìµë¥ , ìµœëŒ€ ì†ì‹¤ë¥  ê³„ì‚°
  â””â”€ ë¦¬ìŠ¤í¬/ë³´ìƒ ë¹„ìœ¨ í™•ì¸
    â†“
â‘¥ ì‹¤ì „ íŠ¸ë ˆì´ë”© ì‹œì‘
  â””â”€ ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œì—ì„œ ëª¨ë‹ˆí„°ë§
```

---

## ê¸°ìˆ  ìŠ¤íƒ

### Frontend (ì‚¬ìš©ì ì¹œí™”ì  UI)
```yaml
Framework: Next.js 14 (App Router)
Language: TypeScript
Styling:
  - Tailwind CSS (ìœ í‹¸ë¦¬í‹° ê¸°ë°˜ ìŠ¤íƒ€ì¼ë§)
  - shadcn/ui (ê³ í’ˆì§ˆ ì»´í¬ë„ŒíŠ¸)
  - Framer Motion (ì• ë‹ˆë©”ì´ì…˜)
State Management:
  - Zustand (ê²½ëŸ‰ ìƒíƒœ ê´€ë¦¬)
  - React Query (ì„œë²„ ìƒíƒœ ê´€ë¦¬)
Real-time:
  - Socket.IO Client (ì‹¤ì‹œê°„ í¬ì§€ì…˜ ì—…ë°ì´íŠ¸)
Charts:
  - Recharts (ìˆ˜ìµë¥  ì°¨íŠ¸)
  - TradingView Lightweight Charts (ê°€ê²© ì°¨íŠ¸)
Authentication:
  - NextAuth.js (ì„¸ì…˜ ê´€ë¦¬)
  - JWT (í† í° ì¸ì¦)
Form Validation:
  - React Hook Form + Zod
UI/UX:
  - ë°˜ì‘í˜• ë””ìì¸ (ëª¨ë°”ì¼ ìš°ì„ )
  - ë‹¤í¬ ëª¨ë“œ ê¸°ë³¸ ì œê³µ
  - ì ‘ê·¼ì„± ì¤€ìˆ˜ (WCAG 2.1 AA)
```

### Backend (ì•ˆì •ì ì´ê³  ë³´ì•ˆ ê°•í™”ëœ ì„œë²„)
```yaml
Framework: FastAPI (Python 3.10+)
Language: Python (íƒ€ì… íŒíŠ¸ í•„ìˆ˜)
Database:
  - PostgreSQL 15 (ë©”ì¸ ë°ì´í„°ë² ì´ìŠ¤)
  - Redis 7 (ì„¸ì…˜ ìºì‹œ, Rate Limiting)
ORM: SQLAlchemy 2.0 (ë¹„ë™ê¸° ì§€ì›)
Authentication:
  - JWT (Access Token + Refresh Token)
  - bcrypt (ë¹„ë°€ë²ˆí˜¸ í•´ì‹±)
  - pyotp (2FA TOTP)
Security:
  - cryptography (AES-256 API í‚¤ ì•”í˜¸í™”)
  - slowapi (Rate Limiting)
  - python-jose (JWT ì„œëª… ê²€ì¦)
Real-time:
  - Socket.IO (ì–‘ë°©í–¥ í†µì‹ )
  - WebSocket (ì‹¤ì‹œê°„ ê°€ê²© í”¼ë“œ)
AI/ML:
  - OpenAI API (GPT-4 ë¶„ì„)
  - Anthropic API (Claude ë¶„ì„)
  - NumPy/Pandas (ë°ì´í„° ë¶„ì„)
  - TA-Lib (ê¸°ìˆ ì  ì§€í‘œ)
Background Jobs:
  - Celery (ë¹„ë™ê¸° ì‘ì—… í)
  - Redis (Celery ë¸Œë¡œì»¤)
Testing:
  - pytest (ë‹¨ìœ„ í…ŒìŠ¤íŠ¸)
  - pytest-asyncio (ë¹„ë™ê¸° í…ŒìŠ¤íŠ¸)
Monitoring:
  - Sentry (ì—ëŸ¬ ì¶”ì )
  - Prometheus (ë©”íŠ¸ë¦­ ìˆ˜ì§‘)
```

### DevOps & Infrastructure
```yaml
Containerization: Docker + Docker Compose
Reverse Proxy: Nginx
SSL/TLS: Let's Encrypt (ìë™ ê°±ì‹ )
CI/CD: GitHub Actions
Monitoring:
  - Grafana (ì‹œê°í™”)
  - Prometheus (ë©”íŠ¸ë¦­)
  - Loki (ë¡œê·¸ ìˆ˜ì§‘)
Backup:
  - PostgreSQL ìë™ ë°±ì—… (ì¼ì¼)
  - S3 í˜¸í™˜ ìŠ¤í† ë¦¬ì§€
Environment: .env íŒŒì¼ë¡œ í™˜ê²½ ë¶„ë¦¬
```

---

## ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨

### High-Level Architecture
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ì‚¬ìš©ì (Browser)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚ HTTPS
                      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Nginx (Reverse Proxy)                     â”‚
â”‚                    - SSL Termination                         â”‚
â”‚                    - Rate Limiting                           â”‚
â”‚                    - Load Balancing                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â†“                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Next.js Frontend â”‚      â”‚  FastAPI Backend   â”‚
â”‚  (Port 3000)      â”‚â†â”€â”€â”€â”€â†’â”‚  (Port 8001)       â”‚
â”‚                   â”‚ API  â”‚                    â”‚
â”‚  - ëŒ€ì‹œë³´ë“œ        â”‚      â”‚  - REST API        â”‚
â”‚  - ì„¤ì • í˜ì´ì§€     â”‚      â”‚  - WebSocket       â”‚
â”‚  - ì°¨íŠ¸ ì‹œê°í™”     â”‚      â”‚  - Webhook ìˆ˜ì‹     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â†“                â†“                â†“
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚ PostgreSQL  â”‚  â”‚   Redis     â”‚  â”‚   Celery    â”‚
          â”‚ (ë©”ì¸ DB)   â”‚  â”‚  (ìºì‹œ)     â”‚  â”‚ (ë°±ê·¸ë¼ìš´ë“œ) â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â†“                â†“                â†“
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚  Binance    â”‚  â”‚    OKX      â”‚  â”‚  Telegram   â”‚
          â”‚   API       â”‚  â”‚    API      â”‚  â”‚  Bot API    â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                                     â†“
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚  TradingView    â”‚
                          â”‚   (Webhook)     â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Data Flow Architecture
```
[TradingView Pine Script]
        â†“ Webhook Alert
[FastAPI Webhook Endpoint]
        â†“ Validate HMAC
[Order Executor Service]
        â†“ Risk Check
[Binance/OKX API]
        â†“ Order Filled
[Telegram Service]
        â†“ Notification
[User Mobile Device]
        â†“ View Dashboard
[Next.js Frontend]
        â†“ WebSocket
[Real-time Position Updates]
```

---

## ë°±ì—”ë“œ ì•„í‚¤í…ì²˜

### ë””ë ‰í† ë¦¬ êµ¬ì¡°
```
trading-backend/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â””â”€â”€ v1/
â”‚   â”‚       â”œâ”€â”€ auth.py               # ì¸ì¦ (íšŒì›ê°€ì…, ë¡œê·¸ì¸, 2FA)
â”‚   â”‚       â”œâ”€â”€ users.py              # ì‚¬ìš©ì ê´€ë¦¬
â”‚   â”‚       â”œâ”€â”€ accounts.py           # ê±°ë˜ì†Œ API í‚¤ ê´€ë¦¬
â”‚   â”‚       â”œâ”€â”€ strategies.py         # ì „ëµ ì„¤ì • (ìµì ˆ/ì†ì ˆ/ë ˆë²„ë¦¬ì§€)
â”‚   â”‚       â”œâ”€â”€ trading.py            # ì£¼ë¬¸ ì‹¤í–‰
â”‚   â”‚       â”œâ”€â”€ webhook.py            # TradingView Webhook
â”‚   â”‚       â”œâ”€â”€ telegram.py           # í…”ë ˆê·¸ë¨ ì•Œë¦¼
â”‚   â”‚       â”œâ”€â”€ pine_script.py        # Pine Script AI
â”‚   â”‚       â”œâ”€â”€ backtest.py           # ë°±í…ŒìŠ¤íŒ…
â”‚   â”‚       â”œâ”€â”€ positions.py          # í¬ì§€ì…˜ ê´€ë¦¬ (NEW)
â”‚   â”‚       â”œâ”€â”€ performance.py        # ìˆ˜ìµë¥  ë¶„ì„ (NEW)
â”‚   â”‚       â””â”€â”€ websocket.py          # ì‹¤ì‹œê°„ ë°ì´í„° (NEW)
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”œâ”€â”€ config.py                 # í™˜ê²½ ì„¤ì •
â”‚   â”‚   â”œâ”€â”€ security.py               # ë³´ì•ˆ (JWT, ì•”í˜¸í™”, 2FA)
â”‚   â”‚   â”œâ”€â”€ database.py               # ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°
â”‚   â”‚   â”œâ”€â”€ exceptions.py             # ì»¤ìŠ¤í…€ ì˜ˆì™¸
â”‚   â”‚   â””â”€â”€ logging_config.py         # ë¡œê¹… ì„¤ì •
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ user.py                   # User ëª¨ë¸ (NEW)
â”‚   â”‚   â”œâ”€â”€ api_key.py                # API í‚¤ ëª¨ë¸
â”‚   â”‚   â”œâ”€â”€ strategy.py               # ì „ëµ ëª¨ë¸ (í™•ì¥)
â”‚   â”‚   â”œâ”€â”€ position.py               # í¬ì§€ì…˜ ëª¨ë¸ (NEW)
â”‚   â”‚   â”œâ”€â”€ order.py                  # ì£¼ë¬¸ ëª¨ë¸ (NEW)
â”‚   â”‚   â””â”€â”€ performance.py            # ì„±ê³¼ ëª¨ë¸ (NEW)
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ auth_service.py           # ì¸ì¦ ì„œë¹„ìŠ¤ (NEW)
â”‚   â”‚   â”œâ”€â”€ user_service.py           # ì‚¬ìš©ì ì„œë¹„ìŠ¤ (NEW)
â”‚   â”‚   â”œâ”€â”€ order_executor.py         # ì£¼ë¬¸ ì‹¤í–‰ (í™•ì¥)
â”‚   â”‚   â”œâ”€â”€ risk_manager.py           # ë¦¬ìŠ¤í¬ ê´€ë¦¬ (NEW)
â”‚   â”‚   â”œâ”€â”€ position_manager.py       # í¬ì§€ì…˜ ê´€ë¦¬ (NEW)
â”‚   â”‚   â”œâ”€â”€ telegram_service.py       # í…”ë ˆê·¸ë¨ ì•Œë¦¼
â”‚   â”‚   â”œâ”€â”€ pine_script_analyzer.py   # Pine Script ë¶„ì„
â”‚   â”‚   â”œâ”€â”€ strategy_optimizer.py     # ì „ëµ ìµœì í™”
â”‚   â”‚   â”œâ”€â”€ ai_ensemble.py            # AI ì•™ìƒë¸” (í™•ì¥)
â”‚   â”‚   â””â”€â”€ market_analyzer.py        # ì‹œì¥ ë¶„ì„ (NEW)
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ encryption.py             # AES-256 ì•”í˜¸í™”
â”‚   â”‚   â”œâ”€â”€ validators.py             # ì…ë ¥ ê²€ì¦ (NEW)
â”‚   â”‚   â””â”€â”€ formatters.py             # ë°ì´í„° í¬ë§·íŒ… (NEW)
â”‚   â””â”€â”€ tasks/
â”‚       â”œâ”€â”€ celery_app.py             # Celery ì„¤ì • (NEW)
â”‚       â”œâ”€â”€ market_data.py            # ì‹œì¥ ë°ì´í„° ìˆ˜ì§‘ (NEW)
â”‚       â””â”€â”€ performance_calc.py       # ìˆ˜ìµë¥  ê³„ì‚° (NEW)
â”œâ”€â”€ alembic/                          # ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜
â”œâ”€â”€ tests/                            # í…ŒìŠ¤íŠ¸ ì½”ë“œ
â”œâ”€â”€ main.py                           # FastAPI ì• í”Œë¦¬ì¼€ì´ì…˜
â”œâ”€â”€ requirements.txt                  # Python ì˜ì¡´ì„±
â””â”€â”€ docker-compose.yml                # Docker ì„¤ì •
```

### í•µì‹¬ ì„œë¹„ìŠ¤ ì„¤ê³„

#### 1. AuthService (ì¸ì¦ ì„œë¹„ìŠ¤)
```python
class AuthService:
    """ì‚¬ìš©ì ì¸ì¦ ë° ê¶Œí•œ ê´€ë¦¬"""

    async def register_user(email, password) -> User:
        """íšŒì›ê°€ì… + ì´ë©”ì¼ ì¸ì¦"""

    async def login(email, password) -> TokenPair:
        """ë¡œê·¸ì¸ (JWT í† í° ë°œê¸‰)"""

    async def verify_2fa(user_id, totp_code) -> bool:
        """2FA ê²€ì¦ (Google Authenticator)"""

    async def refresh_token(refresh_token) -> AccessToken:
        """ë¦¬í”„ë ˆì‹œ í† í°ìœ¼ë¡œ ì•¡ì„¸ìŠ¤ í† í° ê°±ì‹ """
```

#### 2. RiskManager (ë¦¬ìŠ¤í¬ ê´€ë¦¬ ì„œë¹„ìŠ¤)
```python
class RiskManager:
    """í¬ì§€ì…˜ ì‚¬ì´ì§• ë° ë¦¬ìŠ¤í¬ ì œì–´"""

    async def calculate_position_size(account_id, strategy_config) -> float:
        """
        í¬ì§€ì…˜ ì‚¬ì´ì¦ˆ ê³„ì‚°
        - ì „ì²´ ë‹´ë³´ê¸ˆì˜ X% ì‚¬ìš©
        - ë ˆë²„ë¦¬ì§€ ê³ ë ¤
        - ìµœëŒ€ ì†ì‹¤ í•œë„ ì²´í¬
        """

    async def set_stop_loss_take_profit(position, strategy_config) -> Order:
        """
        ì†ì ˆ/ìµì ˆ ì£¼ë¬¸ ìë™ ì„¤ì •
        - ë¡±: ì§„ì…ê°€ ê¸°ì¤€ +X% ìµì ˆ, -X% ì†ì ˆ
        - ìˆ: ì§„ì…ê°€ ê¸°ì¤€ -X% ìµì ˆ, +X% ì†ì ˆ
        """

    async def check_risk_limits(user_id) -> RiskReport:
        """
        ë¦¬ìŠ¤í¬ í•œë„ ì²´í¬
        - ì¼ì¼ ìµœëŒ€ ì†ì‹¤ë¥  ì´ˆê³¼ ì—¬ë¶€
        - ë™ì‹œ í¬ì§€ì…˜ ê°œìˆ˜ ì œí•œ
        - ë ˆë²„ë¦¬ì§€ ì œí•œ
        """
```

#### 3. MarketAnalyzer (AI ì‹œì¥ ë¶„ì„ ì„œë¹„ìŠ¤)
```python
class MarketAnalyzer:
    """AI ê¸°ë°˜ ì‹œì¥ ë¶„ì„ (GPT-4 + Claude)"""

    async def analyze_chart_pattern(symbol, timeframe) -> ChartAnalysis:
        """
        ì°¨íŠ¸ íŒ¨í„´ ë¶„ì„
        - í—¤ë“œì•¤ìˆ„ë”, ë”ë¸”íƒ‘/ë°”í…€
        - ì§€ì§€/ì €í•­ì„ 
        - ì¶”ì„¸ì„ 
        """

    async def analyze_volume_profile(symbol) -> VolumeAnalysis:
        """
        ê±°ë˜ëŸ‰ í”„ë¡œíŒŒì¼ ë¶„ì„
        - POC (Point of Control)
        - Value Area
        - ê±°ë˜ëŸ‰ ê¸‰ì¦ êµ¬ê°„
        """

    async def analyze_fractal_geometry(symbol) -> FractalAnalysis:
        """
        í”„ë™íƒˆ í˜„ìƒ ë¶„ì„
        - ìê¸°ìœ ì‚¬ì„± íŒ¨í„´
        - í”„ë™íƒˆ ì°¨ì› ê³„ì‚°
        - ì¹´ì˜¤ìŠ¤ ì´ë¡  ì ìš©
        """

    async def get_ai_recommendation(symbol) -> AIRecommendation:
        """
        AI ì¢…í•© ì¶”ì²œ
        - GPT-4 + Claude ë“€ì–¼ ë¶„ì„
        - ì§„ì…/ì²­ì‚° íƒ€ì´ë°
        - ë¦¬ìŠ¤í¬ í‰ê°€
        """
```

#### 4. PositionManager (í¬ì§€ì…˜ ê´€ë¦¬ ì„œë¹„ìŠ¤)
```python
class PositionManager:
    """ì‹¤ì‹œê°„ í¬ì§€ì…˜ ì¶”ì  ë° ê´€ë¦¬"""

    async def get_active_positions(user_id) -> List[Position]:
        """í™œì„± í¬ì§€ì…˜ ì¡°íšŒ"""

    async def calculate_pnl(position) -> PnL:
        """
        ì‹¤ì‹œê°„ ì†ìµ ê³„ì‚°
        - ë¯¸ì‹¤í˜„ ì†ìµ (Unrealized PnL)
        - ì‹¤í˜„ ì†ìµ (Realized PnL)
        - ROI, ROE ê³„ì‚°
        """

    async def monitor_positions(user_id) -> None:
        """
        í¬ì§€ì…˜ ëª¨ë‹ˆí„°ë§ (ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…)
        - 1% ì´ìƒ ë³€ë™ ì‹œ í…”ë ˆê·¸ë¨ ì•Œë¦¼
        - ì†ì ˆ/ìµì ˆ ë„ë‹¬ ì‹œ ìë™ ì²­ì‚°
        - AI ì¡°ê¸° ì²­ì‚° ê¶Œì¥
        """
```

---

## í”„ë¡ íŠ¸ì—”ë“œ ì•„í‚¤í…ì²˜

### ë””ë ‰í† ë¦¬ êµ¬ì¡°
```
trading-frontend/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ (auth)/
â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx              # ë¡œê·¸ì¸ í˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ register/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx              # íšŒì›ê°€ì… í˜ì´ì§€
â”‚   â”‚   â””â”€â”€ verify-2fa/
â”‚   â”‚       â””â”€â”€ page.tsx              # 2FA ì¸ì¦ í˜ì´ì§€
â”‚   â”œâ”€â”€ (dashboard)/
â”‚   â”‚   â”œâ”€â”€ layout.tsx                # ëŒ€ì‹œë³´ë“œ ë ˆì´ì•„ì›ƒ
â”‚   â”‚   â”œâ”€â”€ page.tsx                  # ë©”ì¸ ëŒ€ì‹œë³´ë“œ
â”‚   â”‚   â”œâ”€â”€ positions/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx              # í¬ì§€ì…˜ í˜„í™©
â”‚   â”‚   â”œâ”€â”€ performance/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx              # ìˆ˜ìµë¥  ë¶„ì„
â”‚   â”‚   â””â”€â”€ history/
â”‚   â”‚       â””â”€â”€ page.tsx              # ê±°ë˜ ë‚´ì—­
â”‚   â”œâ”€â”€ (settings)/
â”‚   â”‚   â”œâ”€â”€ layout.tsx                # ì„¤ì • ë ˆì´ì•„ì›ƒ
â”‚   â”‚   â”œâ”€â”€ exchanges/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx              # ê±°ë˜ì†Œ API ì„¤ì •
â”‚   â”‚   â”œâ”€â”€ telegram/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx              # í…”ë ˆê·¸ë¨ ë´‡ ì„¤ì •
â”‚   â”‚   â”œâ”€â”€ indicators/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx              # TradingView ì¸ë””ì¼€ì´í„° ì„¤ì •
â”‚   â”‚   â””â”€â”€ strategy/
â”‚   â”‚       â””â”€â”€ page.tsx              # ì „ëµ ì„¤ì • (ìµì ˆ/ì†ì ˆ/ë ˆë²„ë¦¬ì§€)
â”‚   â””â”€â”€ api/
â”‚       â””â”€â”€ auth/
â”‚           â””â”€â”€ [...nextauth]/
â”‚               â””â”€â”€ route.ts          # NextAuth.js API ë¼ìš°íŠ¸
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/                           # shadcn/ui ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”œâ”€â”€ PositionCard.tsx          # í¬ì§€ì…˜ ì¹´ë“œ
â”‚   â”‚   â”œâ”€â”€ PnLChart.tsx              # ì†ìµ ì°¨íŠ¸
â”‚   â”‚   â””â”€â”€ RealTimePrice.tsx         # ì‹¤ì‹œê°„ ê°€ê²©
â”‚   â”œâ”€â”€ settings/
â”‚   â”‚   â”œâ”€â”€ ExchangeAPIForm.tsx       # ê±°ë˜ì†Œ API ì…ë ¥ í¼
â”‚   â”‚   â”œâ”€â”€ TelegramBotForm.tsx       # í…”ë ˆê·¸ë¨ ë´‡ ì„¤ì • í¼
â”‚   â”‚   â”œâ”€â”€ IndicatorSelector.tsx     # ì¸ë””ì¼€ì´í„° ì„ íƒê¸°
â”‚   â”‚   â””â”€â”€ StrategyConfig.tsx        # ì „ëµ ì„¤ì • í¼
â”‚   â””â”€â”€ layout/
â”‚       â”œâ”€â”€ Sidebar.tsx               # ì‚¬ì´ë“œë°” ë„¤ë¹„ê²Œì´ì…˜
â”‚       â””â”€â”€ Header.tsx                # í—¤ë”
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ client.ts                 # API í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â”œâ”€â”€ auth.ts                   # ì¸ì¦ API
â”‚   â”‚   â”œâ”€â”€ trading.ts                # íŠ¸ë ˆì´ë”© API
â”‚   â”‚   â””â”€â”€ settings.ts               # ì„¤ì • API
â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”œâ”€â”€ useAuth.ts                # ì¸ì¦ í›…
â”‚   â”‚   â”œâ”€â”€ usePositions.ts           # í¬ì§€ì…˜ í›…
â”‚   â”‚   â”œâ”€â”€ useRealtime.ts            # ì‹¤ì‹œê°„ ë°ì´í„° í›…
â”‚   â”‚   â””â”€â”€ useStrategy.ts            # ì „ëµ ì„¤ì • í›…
â”‚   â”œâ”€â”€ store/
â”‚   â”‚   â”œâ”€â”€ authStore.ts              # ì¸ì¦ ìƒíƒœ (Zustand)
â”‚   â”‚   â”œâ”€â”€ positionStore.ts          # í¬ì§€ì…˜ ìƒíƒœ
â”‚   â”‚   â””â”€â”€ settingsStore.ts          # ì„¤ì • ìƒíƒœ
â”‚   â””â”€â”€ utils/
â”‚       â”œâ”€â”€ formatters.ts             # ë°ì´í„° í¬ë§·íŒ…
â”‚       â””â”€â”€ validators.ts             # ì…ë ¥ ê²€ì¦
â”œâ”€â”€ public/
â”‚   â””â”€â”€ images/
â”œâ”€â”€ styles/
â”‚   â””â”€â”€ globals.css
â”œâ”€â”€ next.config.js
â”œâ”€â”€ tailwind.config.ts
â”œâ”€â”€ package.json
â””â”€â”€ tsconfig.json
```

### ì£¼ìš” í˜ì´ì§€ ì„¤ê³„

#### 1. ë©”ì¸ ëŒ€ì‹œë³´ë“œ (`/dashboard`)
```tsx
// ê¸°ëŠ¥:
// - ì‹¤ì‹œê°„ í¬ì§€ì…˜ í˜„í™© (WebSocket)
// - ì´ ìˆ˜ìµë¥  ì°¨íŠ¸ (Recharts)
// - ìµœê·¼ ê±°ë˜ ë‚´ì—­
// - AI ì‹œì¥ ë¶„ì„ ìš”ì•½

// UI êµ¬ì„±:
<DashboardLayout>
  <StatsGrid>
    <StatCard title="ì´ ìì‚°" value="$10,523.45" change="+5.2%" />
    <StatCard title="ì˜¤ëŠ˜ ìˆ˜ìµ" value="$324.12" change="+3.1%" />
    <StatCard title="í™œì„± í¬ì§€ì…˜" value="3" />
    <StatCard title="ìŠ¹ë¥ " value="65.3%" />
  </StatsGrid>

  <PnLChart data={performanceData} />

  <ActivePositions>
    {positions.map(pos => (
      <PositionCard key={pos.id} position={pos} />
    ))}
  </ActivePositions>

  <AIInsights>
    <MarketSentiment />
    <TradingRecommendations />
  </AIInsights>
</DashboardLayout>
```

#### 2. ê±°ë˜ì†Œ API ì„¤ì • (`/settings/exchanges`)
```tsx
// ê¸°ëŠ¥:
// - Binance/OKX API í‚¤ ë“±ë¡
// - ìë™ ì•”í˜¸í™” (í”„ë¡ íŠ¸ì—”ë“œ â†’ ë°±ì—”ë“œ HTTPS)
// - ì—°ê²° í…ŒìŠ¤íŠ¸
// - IP í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ì•ˆë‚´

// UI êµ¬ì„±:
<SettingsLayout>
  <ExchangeSelector
    exchanges={["Binance", "OKX"]}
    selected={selectedExchange}
    onChange={setSelectedExchange}
  />

  <APIKeyForm onSubmit={handleSaveAPIKey}>
    <Input
      label="API Key"
      type="password"
      placeholder="Enter your API key"
      required
    />
    <Input
      label="API Secret"
      type="password"
      placeholder="Enter your API secret"
      required
    />
    <Input
      label="Passphrase (OKX only)"
      type="password"
      placeholder="Optional"
    />
    <Checkbox label="Testnet Mode" />
    <Button type="submit">Test Connection & Save</Button>
  </APIKeyForm>

  <SecurityChecklist>
    <CheckItem text="Enable IP Whitelist on exchange" />
    <CheckItem text="Disable withdrawal permissions" />
    <CheckItem text="Enable Futures trading only" />
  </SecurityChecklist>
</SettingsLayout>
```

#### 3. ì „ëµ ì„¤ì • (`/settings/strategy`)
```tsx
// ê¸°ëŠ¥:
// - íˆ¬ì…ê¸ˆ ë¹„ìœ¨ ì„¤ì • (ìŠ¬ë¼ì´ë”)
// - ë¡±/ìˆë³„ ìµì ˆ/ì†ì ˆ ì„¤ì •
// - ë ˆë²„ë¦¬ì§€ ì„¤ì •
// - ë¦¬ìŠ¤í¬ ì‹œë®¬ë ˆì´ì…˜

// UI êµ¬ì„±:
<SettingsLayout>
  <StrategyForm onSubmit={handleSaveStrategy}>
    <Section title="íˆ¬ì…ê¸ˆ ì„¤ì •">
      <Slider
        label="ì „ì²´ ë‹´ë³´ê¸ˆ ëŒ€ë¹„ íˆ¬ì… ë¹„ìœ¨"
        min={1}
        max={100}
        value={investmentPercent}
        onChange={setInvestmentPercent}
        unit="%"
      />
      <Info>í˜„ì¬ ë‹´ë³´ê¸ˆ: $10,000 â†’ íˆ¬ì…ê¸ˆ: ${10000 * investmentPercent / 100}</Info>
    </Section>

    <Section title="ë¡± í¬ì§€ì…˜ ì„¤ì •">
      <Input
        label="ìµì ˆ ëª©í‘œ (ìƒìŠ¹ë¥ )"
        type="number"
        min={0.1}
        max={100}
        value={longTakeProfit}
        onChange={setLongTakeProfit}
        suffix="%"
      />
      <Input
        label="ì†ì ˆ ëª©í‘œ (í•˜ë½ë¥ )"
        type="number"
        min={0.1}
        max={100}
        value={longStopLoss}
        onChange={setLongStopLoss}
        suffix="%"
      />
    </Section>

    <Section title="ìˆ í¬ì§€ì…˜ ì„¤ì •">
      <Input
        label="ìµì ˆ ëª©í‘œ (í•˜ë½ë¥ )"
        type="number"
        min={0.1}
        max={100}
        value={shortTakeProfit}
        onChange={setShortTakeProfit}
        suffix="%"
      />
      <Input
        label="ì†ì ˆ ëª©í‘œ (ìƒìŠ¹ë¥ )"
        type="number"
        min={0.1}
        max={100}
        value={shortStopLoss}
        onChange={setShortStopLoss}
        suffix="%"
      />
    </Section>

    <Section title="ë ˆë²„ë¦¬ì§€ ì„¤ì •">
      <Slider
        label="ì„ ë¬¼ ë ˆë²„ë¦¬ì§€ ë°°ìˆ˜"
        min={1}
        max={125}
        value={leverage}
        onChange={setLeverage}
        unit="x"
        marks={[1, 3, 5, 10, 20, 50, 100, 125]}
      />
      <Warning>
        ë†’ì€ ë ˆë²„ë¦¬ì§€ëŠ” í° ì†ì‹¤ ìœ„í—˜ì´ ìˆìŠµë‹ˆë‹¤. ê¶Œì¥: 3x ì´í•˜
      </Warning>
    </Section>

    <RiskSimulator
      investment={investmentPercent}
      leverage={leverage}
      stopLoss={longStopLoss}
    >
      <SimulationResult>
        <p>ìµœëŒ€ ì†ì‹¤ ê¸ˆì•¡: ${maxLoss}</p>
        <p>ì²­ì‚° ê°€ê²©: ${liquidationPrice}</p>
        <p>ë¦¬ìŠ¤í¬/ë³´ìƒ ë¹„ìœ¨: {riskRewardRatio}</p>
      </SimulationResult>
    </RiskSimulator>

    <Button type="submit">Save Strategy</Button>
  </StrategyForm>
</SettingsLayout>
```

#### 4. TradingView ì¸ë””ì¼€ì´í„° ì„¤ì • (`/settings/indicators`)
```tsx
// ê¸°ëŠ¥:
// - 5ê°œ í…œí”Œë¦¿ ì¸ë””ì¼€ì´í„° ì„ íƒ
// - íŒŒë¼ë¯¸í„° ì»¤ìŠ¤í„°ë§ˆì´ì§•
// - Pine Script ìë™ ìƒì„±
// - Webhook URL ë³µì‚¬

// UI êµ¬ì„±:
<SettingsLayout>
  <IndicatorLibrary>
    <IndicatorCard
      id="ema_crossover"
      name="EMA Crossover"
      description="ë¹ ë¥¸ EMAì™€ ëŠë¦° EMAì˜ í¬ë¡œìŠ¤ì˜¤ë²„"
      difficulty="Beginner"
      winRate={58.3}
      selected={selectedIndicator === "ema_crossover"}
      onClick={() => setSelectedIndicator("ema_crossover")}
    />
    {/* ë‚˜ë¨¸ì§€ 4ê°œ ì¸ë””ì¼€ì´í„° ì¹´ë“œ */}
  </IndicatorLibrary>

  <ParameterCustomizer indicator={selectedIndicator}>
    <Input label="Fast EMA Length" type="number" defaultValue={9} />
    <Input label="Slow EMA Length" type="number" defaultValue={21} />
    <Input label="Leverage" type="number" defaultValue={3} />
  </ParameterCustomizer>

  <PineScriptPreview>
    <CodeBlock language="pine">{generatedPineScript}</CodeBlock>
    <Button onClick={copyToClipboard}>Copy Pine Script</Button>
  </PineScriptPreview>

  <WebhookSetup>
    <Input
      label="Webhook URL"
      value={webhookURL}
      readOnly
      suffix={<CopyButton />}
    />
    <TutorialSteps>
      <Step>1. Copy Pine Script above</Step>
      <Step>2. Open TradingView â†’ Pine Editor â†’ Paste</Step>
      <Step>3. Add to Chart</Step>
      <Step>4. Create Alert â†’ Webhook URL â†’ Paste</Step>
      <Step>5. Done! Your strategy is live.</Step>
    </TutorialSteps>
  </WebhookSetup>
</SettingsLayout>
```

---

## ë³´ì•ˆ ì•„í‚¤í…ì²˜

### ë‹¤ì¸µ ë³´ì•ˆ ì „ëµ

#### Layer 1: ë„¤íŠ¸ì›Œí¬ ë³´ì•ˆ
```yaml
HTTPS: Let's Encrypt SSL/TLS ì¸ì¦ì„œ
HSTS: Strict-Transport-Security í—¤ë”
CORS: í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ê¸°ë°˜ CORS ì •ì±…
Rate Limiting:
  - IP ê¸°ë°˜: 60 req/min
  - ì‚¬ìš©ì ê¸°ë°˜: 100 req/min
  - Webhook: 10 req/min
DDoS Protection: Cloudflare ë˜ëŠ” AWS Shield
IP Whitelist: ê±°ë˜ì†Œ API í‚¤ IP ì œí•œ
```

#### Layer 2: ì• í”Œë¦¬ì¼€ì´ì…˜ ë³´ì•ˆ
```yaml
Authentication:
  - JWT (Access Token: 15ë¶„, Refresh Token: 7ì¼)
  - bcrypt (ë¹„ë°€ë²ˆí˜¸ í•´ì‹±, cost factor 12)
  - 2FA: TOTP (Google Authenticator)
Authorization:
  - RBAC (Role-Based Access Control)
  - User/Admin ì—­í•  êµ¬ë¶„
Input Validation:
  - Pydantic ëª¨ë¸ë¡œ ëª¨ë“  ì…ë ¥ ê²€ì¦
  - SQL Injection ë°©ì§€ (ORM ì‚¬ìš©)
  - XSS ë°©ì§€ (ì…ë ¥ sanitize)
API Key Encryption:
  - AES-256-GCM (Galois/Counter Mode)
  - ì‚¬ìš©ìë³„ ê³ ìœ  í‚¤ (Key Derivation Function)
  - í™˜ê²½ë³€ìˆ˜ ENCRYPTION_KEYë¡œ ë§ˆìŠ¤í„° í‚¤ ê´€ë¦¬
HMAC Verification:
  - Webhook ì„œëª… ê²€ì¦ (SHA-256)
  - Replay Attack ë°©ì§€ (íƒ€ì„ìŠ¤íƒ¬í”„ Â±5ë¶„)
```

#### Layer 3: ë°ì´í„° ë³´ì•ˆ
```yaml
Encryption at Rest:
  - PostgreSQL: ë¯¼ê° ì»¬ëŸ¼ ì•”í˜¸í™”
  - API Keys: AES-256 ì•”í˜¸í™”
  - Passwords: bcrypt í•´ì‹±
Encryption in Transit:
  - HTTPS/TLS 1.3
  - WebSocket Secure (WSS)
Data Minimization:
  - ë¡œê·¸ì— ë¯¼ê° ì •ë³´ ê¸°ë¡ ê¸ˆì§€
  - API ì‘ë‹µì—ì„œ ë¯¼ê° í•„ë“œ ì œì™¸
Backup Security:
  - ë°±ì—… íŒŒì¼ ì•”í˜¸í™”
  - S3 ì„œë²„ ì‚¬ì´ë“œ ì•”í˜¸í™” (SSE-S3)
```

#### Layer 4: ëª¨ë‹ˆí„°ë§ ë° ê°ì‚¬
```yaml
Audit Logging:
  - ëª¨ë“  API ìš”ì²­ ë¡œê¹…
  - ì‚¬ìš©ì í™œë™ ì¶”ì 
  - ë³´ì•ˆ ì´ë²¤íŠ¸ ê¸°ë¡
Anomaly Detection:
  - ë¹„ì •ìƒ ê±°ë˜ íŒ¨í„´ ê°ì§€
  - ë¡œê·¸ì¸ ì‹œë„ íšŸìˆ˜ ì œí•œ
  - ì˜ì‹¬ìŠ¤ëŸ¬ìš´ IP ì°¨ë‹¨
Alerting:
  - ë³´ì•ˆ ì´ë²¤íŠ¸ ì¦‰ì‹œ ì•Œë¦¼
  - ì‹¤íŒ¨í•œ ë¡œê·¸ì¸ ì‹œë„ ì•Œë¦¼
  - API í‚¤ ë³€ê²½ ì•Œë¦¼
```

### ë³´ì•ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸

#### ê°œë°œ í™˜ê²½
- [ ] `.env` íŒŒì¼ `.gitignore`ì— ì¶”ê°€
- [ ] í…ŒìŠ¤íŠ¸ë„· API í‚¤ë§Œ ì‚¬ìš©
- [ ] DEBUG=True, ìƒì„¸ ì—ëŸ¬ ë¡œê·¸
- [ ] HTTPS ë¡œì»¬ ê°œë°œ í™˜ê²½ (mkcert)

#### í”„ë¡œë•ì…˜ í™˜ê²½
- [ ] DEBUG=False, ì—ëŸ¬ ìƒì„¸ ì •ë³´ ìˆ¨ê¹€
- [ ] ê°•ë ¥í•œ SECRET_KEY ìƒì„± (openssl rand -hex 32)
- [ ] ENCRYPTION_KEY ìƒì„± (Fernet.generate_key())
- [ ] 2FA í•„ìˆ˜ í™œì„±í™”
- [ ] Rate Limiting í™œì„±í™”
- [ ] IP í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ì„¤ì • (ê±°ë˜ì†Œ)
- [ ] HTTPS/TLS 1.3 ê°•ì œ
- [ ] ì •ê¸°ì ì¸ ë³´ì•ˆ íŒ¨ì¹˜
- [ ] ì¹¨íˆ¬ í…ŒìŠ¤íŠ¸ ìˆ˜í–‰
- [ ] ë³´ì•ˆ ê°ì‚¬ ë¡œê·¸ ê²€í† 

---

## ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„

### ERD (Entity-Relationship Diagram)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Users      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)         â”‚
â”‚ email (UNIQUE)  â”‚
â”‚ password_hash   â”‚
â”‚ is_active       â”‚
â”‚ is_2fa_enabled  â”‚
â”‚ totp_secret     â”‚
â”‚ created_at      â”‚
â”‚ updated_at      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ 1:N
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    ApiKeys      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)         â”‚
â”‚ user_id (FK)    â”‚
â”‚ account_id      â”‚
â”‚ exchange        â”‚
â”‚ api_key_enc     â”‚
â”‚ api_secret_enc  â”‚
â”‚ passphrase_enc  â”‚
â”‚ testnet         â”‚
â”‚ created_at      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ 1:N
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Strategies    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)         â”‚
â”‚ user_id (FK)    â”‚
â”‚ name            â”‚
â”‚ indicator_id    â”‚
â”‚ investment_pct  â”‚ â† ì „ì²´ ë‹´ë³´ê¸ˆì˜ ëª‡ %
â”‚ long_tp_pct     â”‚ â† ë¡± ìµì ˆ %
â”‚ long_sl_pct     â”‚ â† ë¡± ì†ì ˆ %
â”‚ short_tp_pct    â”‚ â† ìˆ ìµì ˆ %
â”‚ short_sl_pct    â”‚ â† ìˆ ì†ì ˆ %
â”‚ leverage        â”‚ â† ë ˆë²„ë¦¬ì§€ ë°°ìˆ˜
â”‚ is_active       â”‚
â”‚ created_at      â”‚
â”‚ updated_at      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ 1:N
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Positions     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)         â”‚
â”‚ user_id (FK)    â”‚
â”‚ strategy_id (FK)â”‚
â”‚ exchange        â”‚
â”‚ symbol          â”‚
â”‚ side (LONG/SHORT)â”‚
â”‚ entry_price     â”‚
â”‚ quantity        â”‚
â”‚ leverage        â”‚
â”‚ stop_loss       â”‚
â”‚ take_profit     â”‚
â”‚ unrealized_pnl  â”‚
â”‚ realized_pnl    â”‚
â”‚ status (OPEN/CLOSED)â”‚
â”‚ opened_at       â”‚
â”‚ closed_at       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ 1:N
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Orders      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)         â”‚
â”‚ position_id (FK)â”‚
â”‚ exchange        â”‚
â”‚ order_id        â”‚
â”‚ symbol          â”‚
â”‚ side            â”‚
â”‚ type            â”‚
â”‚ price           â”‚
â”‚ quantity        â”‚
â”‚ filled_qty      â”‚
â”‚ status          â”‚
â”‚ created_at      â”‚
â”‚ filled_at       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Performances   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)         â”‚
â”‚ user_id (FK)    â”‚
â”‚ date            â”‚
â”‚ total_pnl       â”‚
â”‚ win_rate        â”‚
â”‚ total_trades    â”‚
â”‚ roi             â”‚
â”‚ sharpe_ratio    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TelegramBots    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)         â”‚
â”‚ user_id (FK)    â”‚
â”‚ bot_token_enc   â”‚
â”‚ chat_id         â”‚
â”‚ is_active       â”‚
â”‚ created_at      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì£¼ìš” í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ

#### users í…Œì´ë¸”
```sql
CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    email VARCHAR(255) UNIQUE NOT NULL,
    password_hash VARCHAR(255) NOT NULL,
    is_active BOOLEAN DEFAULT TRUE,
    is_2fa_enabled BOOLEAN DEFAULT FALSE,
    totp_secret VARCHAR(255),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX idx_users_email ON users(email);
```

#### strategies í…Œì´ë¸”
```sql
CREATE TABLE strategies (
    id SERIAL PRIMARY KEY,
    user_id INTEGER REFERENCES users(id) ON DELETE CASCADE,
    name VARCHAR(255) NOT NULL,
    indicator_id VARCHAR(50) NOT NULL,  -- ema_crossover, rsi_reversal ë“±
    investment_pct DECIMAL(5, 2) DEFAULT 10.00,  -- ì „ì²´ ë‹´ë³´ê¸ˆì˜ 10%
    long_tp_pct DECIMAL(5, 2) DEFAULT 5.00,      -- ë¡± ìµì ˆ 5%
    long_sl_pct DECIMAL(5, 2) DEFAULT 2.00,      -- ë¡± ì†ì ˆ 2%
    short_tp_pct DECIMAL(5, 2) DEFAULT 5.00,     -- ìˆ ìµì ˆ 5%
    short_sl_pct DECIMAL(5, 2) DEFAULT 2.00,     -- ìˆ ì†ì ˆ 2%
    leverage INTEGER DEFAULT 3,                   -- ë ˆë²„ë¦¬ì§€ 3ë°°
    is_active BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX idx_strategies_user_id ON strategies(user_id);
CREATE INDEX idx_strategies_is_active ON strategies(is_active);
```

#### positions í…Œì´ë¸”
```sql
CREATE TABLE positions (
    id SERIAL PRIMARY KEY,
    user_id INTEGER REFERENCES users(id) ON DELETE CASCADE,
    strategy_id INTEGER REFERENCES strategies(id) ON DELETE SET NULL,
    exchange VARCHAR(20) NOT NULL,
    symbol VARCHAR(20) NOT NULL,
    side VARCHAR(10) NOT NULL,  -- LONG or SHORT
    entry_price DECIMAL(18, 8) NOT NULL,
    quantity DECIMAL(18, 8) NOT NULL,
    leverage INTEGER NOT NULL,
    stop_loss DECIMAL(18, 8),
    take_profit DECIMAL(18, 8),
    unrealized_pnl DECIMAL(18, 8) DEFAULT 0,
    realized_pnl DECIMAL(18, 8) DEFAULT 0,
    status VARCHAR(20) DEFAULT 'OPEN',  -- OPEN, CLOSED
    opened_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    closed_at TIMESTAMP
);

CREATE INDEX idx_positions_user_id ON positions(user_id);
CREATE INDEX idx_positions_status ON positions(status);
CREATE INDEX idx_positions_symbol ON positions(symbol);
```

---

## API ì„¤ê³„

### REST API Endpoints

#### ì¸ì¦ (Authentication)
```
POST   /api/v1/auth/register            # íšŒì›ê°€ì…
POST   /api/v1/auth/login               # ë¡œê·¸ì¸
POST   /api/v1/auth/logout              # ë¡œê·¸ì•„ì›ƒ
POST   /api/v1/auth/refresh             # í† í° ê°±ì‹ 
POST   /api/v1/auth/verify-2fa          # 2FA ê²€ì¦
GET    /api/v1/auth/2fa/setup           # 2FA ì„¤ì • (QR ì½”ë“œ)
```

#### ì‚¬ìš©ì (Users)
```
GET    /api/v1/users/me                 # í˜„ì¬ ì‚¬ìš©ì ì •ë³´
PUT    /api/v1/users/me                 # ì‚¬ìš©ì ì •ë³´ ìˆ˜ì •
DELETE /api/v1/users/me                 # ê³„ì • ì‚­ì œ
```

#### ê±°ë˜ì†Œ API í‚¤ (Exchange API Keys)
```
POST   /api/v1/accounts/register        # API í‚¤ ë“±ë¡
GET    /api/v1/accounts                 # API í‚¤ ëª©ë¡
GET    /api/v1/accounts/{account_id}    # íŠ¹ì • API í‚¤ ì¡°íšŒ
PUT    /api/v1/accounts/{account_id}    # API í‚¤ ìˆ˜ì •
DELETE /api/v1/accounts/{account_id}    # API í‚¤ ì‚­ì œ
POST   /api/v1/accounts/{account_id}/test # ì—°ê²° í…ŒìŠ¤íŠ¸
```

#### ì „ëµ ì„¤ì • (Strategies)
```
POST   /api/v1/strategies               # ì „ëµ ìƒì„±
GET    /api/v1/strategies                # ì „ëµ ëª©ë¡
GET    /api/v1/strategies/{id}          # íŠ¹ì • ì „ëµ ì¡°íšŒ
PUT    /api/v1/strategies/{id}          # ì „ëµ ìˆ˜ì •
DELETE /api/v1/strategies/{id}          # ì „ëµ ì‚­ì œ
POST   /api/v1/strategies/{id}/activate # ì „ëµ í™œì„±í™”
POST   /api/v1/strategies/{id}/deactivate # ì „ëµ ë¹„í™œì„±í™”
```

#### í¬ì§€ì…˜ (Positions)
```
GET    /api/v1/positions                # í™œì„± í¬ì§€ì…˜ ëª©ë¡
GET    /api/v1/positions/{id}           # íŠ¹ì • í¬ì§€ì…˜ ì¡°íšŒ
POST   /api/v1/positions/{id}/close     # ìˆ˜ë™ í¬ì§€ì…˜ ì²­ì‚°
GET    /api/v1/positions/history        # ê³¼ê±° í¬ì§€ì…˜ ë‚´ì—­
```

#### ì„±ê³¼ ë¶„ì„ (Performance)
```
GET    /api/v1/performance/summary      # ì¢…í•© ì„±ê³¼
GET    /api/v1/performance/daily        # ì¼ë³„ ìˆ˜ìµë¥ 
GET    /api/v1/performance/weekly       # ì£¼ë³„ ìˆ˜ìµë¥ 
GET    /api/v1/performance/monthly      # ì›”ë³„ ìˆ˜ìµë¥ 
```

#### TradingView Webhook
```
POST   /api/v1/webhook/tradingview      # Webhook ìˆ˜ì‹  (ê¸°ì¡´)
```

#### í…”ë ˆê·¸ë¨ (Telegram)
```
POST   /api/v1/telegram/register        # í…”ë ˆê·¸ë¨ ë´‡ ë“±ë¡
GET    /api/v1/telegram                 # í…”ë ˆê·¸ë¨ ë´‡ ì •ë³´
DELETE /api/v1/telegram                 # í…”ë ˆê·¸ë¨ ë´‡ ì‚­ì œ
POST   /api/v1/telegram/test            # í…ŒìŠ¤íŠ¸ ì•Œë¦¼
```

#### Pine Script (AI)
```
GET    /api/v1/pine-script/strategies   # ì „ëµ ë¼ì´ë¸ŒëŸ¬ë¦¬
POST   /api/v1/pine-script/customize    # ì „ëµ ì»¤ìŠ¤í„°ë§ˆì´ì§•
POST   /api/v1/pine-script/analyze      # Pine Script ë¶„ì„
POST   /api/v1/pine-script/generate     # AI ì „ëµ ìƒì„±
```

### WebSocket Events

#### ì„œë²„ â†’ í´ë¼ì´ì–¸íŠ¸
```typescript
// ì‹¤ì‹œê°„ í¬ì§€ì…˜ ì—…ë°ì´íŠ¸
{
  event: "position_update",
  data: {
    position_id: 123,
    unrealized_pnl: 45.23,
    pnl_percentage: 2.3,
    current_price: 43250.50
  }
}

// ì£¼ë¬¸ ì²´ê²° ì•Œë¦¼
{
  event: "order_filled",
  data: {
    order_id: 456,
    symbol: "BTCUSDT",
    side: "LONG",
    price: 43200.00,
    quantity: 0.05
  }
}

// AI ì¶”ì²œ ì•Œë¦¼
{
  event: "ai_recommendation",
  data: {
    symbol: "BTCUSDT",
    action: "CLOSE_POSITION",
    reason: "ì‹œì¥ ê¸‰ë½ ê°ì§€, ì¡°ê¸° ì²­ì‚° ê¶Œì¥",
    confidence: 0.85
  }
}
```

#### í´ë¼ì´ì–¸íŠ¸ â†’ ì„œë²„
```typescript
// ì‹¤ì‹œê°„ ë°ì´í„° êµ¬ë…
{
  event: "subscribe",
  data: {
    channels: ["positions", "orders", "ai_signals"]
  }
}

// êµ¬ë… í•´ì œ
{
  event: "unsubscribe",
  data: {
    channels: ["ai_signals"]
  }
}
```

---

## ë°°í¬ ì „ëµ

### Docker Compose êµ¬ì„±
```yaml
version: '3.8'

services:
  # PostgreSQL ë°ì´í„°ë² ì´ìŠ¤
  postgres:
    image: postgres:15-alpine
    environment:
      POSTGRES_DB: tradingbot
      POSTGRES_USER: tradingbot
      POSTGRES_PASSWORD: ${DB_PASSWORD}
    volumes:
      - postgres_data:/var/lib/postgresql/data
    ports:
      - "5432:5432"

  # Redis ìºì‹œ
  redis:
    image: redis:7-alpine
    ports:
      - "6379:6379"
    volumes:
      - redis_data:/data

  # FastAPI ë°±ì—”ë“œ
  backend:
    build:
      context: ./trading-backend
      dockerfile: Dockerfile
    environment:
      - DATABASE_URL=postgresql://tradingbot:${DB_PASSWORD}@postgres:5432/tradingbot
      - REDIS_URL=redis://redis:6379
    ports:
      - "8001:8001"
    depends_on:
      - postgres
      - redis
    volumes:
      - ./trading-backend:/app
    command: uvicorn main:app --host 0.0.0.0 --port 8001 --reload

  # Celery Worker
  celery_worker:
    build:
      context: ./trading-backend
      dockerfile: Dockerfile
    environment:
      - DATABASE_URL=postgresql://tradingbot:${DB_PASSWORD}@postgres:5432/tradingbot
      - REDIS_URL=redis://redis:6379
    depends_on:
      - postgres
      - redis
    command: celery -A app.tasks.celery_app worker --loglevel=info

  # Next.js í”„ë¡ íŠ¸ì—”ë“œ
  frontend:
    build:
      context: ./trading-frontend
      dockerfile: Dockerfile
    environment:
      - NEXT_PUBLIC_API_URL=http://localhost:8001
    ports:
      - "3000:3000"
    depends_on:
      - backend
    volumes:
      - ./trading-frontend:/app
      - /app/node_modules
    command: npm run dev

  # Nginx ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ
  nginx:
    image: nginx:alpine
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf
      - ./ssl:/etc/nginx/ssl
    depends_on:
      - frontend
      - backend

volumes:
  postgres_data:
  redis_data:
```

### í”„ë¡œë•ì…˜ ë°°í¬ ì²´í¬ë¦¬ìŠ¤íŠ¸

#### í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
- [ ] `SECRET_KEY` - JWT ì„œëª… í‚¤ (openssl rand -hex 32)
- [ ] `ENCRYPTION_KEY` - API í‚¤ ì•”í˜¸í™” í‚¤ (Fernet.generate_key())
- [ ] `DATABASE_URL` - PostgreSQL ì—°ê²° ë¬¸ìì—´
- [ ] `REDIS_URL` - Redis ì—°ê²° ë¬¸ìì—´
- [ ] `OPENAI_API_KEY` - GPT-4 API í‚¤
- [ ] `ANTHROPIC_API_KEY` - Claude API í‚¤
- [ ] `SENTRY_DSN` - ì—ëŸ¬ ì¶”ì  (ì„ íƒì‚¬í•­)

#### ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜
```bash
# Alembic ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰
alembic upgrade head
```

#### SSL/TLS ì¸ì¦ì„œ
```bash
# Let's Encrypt ì¸ì¦ì„œ ë°œê¸‰
certbot certonly --webroot -w /var/www/html -d yourdomain.com
```

#### ì„œë¹„ìŠ¤ ì‹œì‘
```bash
# Docker Composeë¡œ ëª¨ë“  ì„œë¹„ìŠ¤ ì‹œì‘
docker-compose up -d

# ë¡œê·¸ í™•ì¸
docker-compose logs -f backend
docker-compose logs -f frontend
```

#### í—¬ìŠ¤ ì²´í¬
```bash
# ë°±ì—”ë“œ í—¬ìŠ¤ ì²´í¬
curl https://yourdomain.com/api/v1/health

# í”„ë¡ íŠ¸ì—”ë“œ ì ‘ê·¼ í™•ì¸
curl https://yourdomain.com
```

---

## ê°œë°œ ë¡œë“œë§µ

### Phase 1: ë°±ì—”ë“œ í•µì‹¬ ê¸°ëŠ¥ (2ì£¼)
- âœ… ì‚¬ìš©ì ì¸ì¦ ì‹œìŠ¤í…œ (íšŒì›ê°€ì…, ë¡œê·¸ì¸, 2FA)
- âœ… ê±°ë˜ì†Œ API í‚¤ ê´€ë¦¬ (ì•”í˜¸í™”, ì €ì¥, ì—°ê²° í…ŒìŠ¤íŠ¸)
- âœ… ì „ëµ ì„¤ì • ì‹œìŠ¤í…œ (ìµì ˆ/ì†ì ˆ/ë ˆë²„ë¦¬ì§€)
- âœ… ë¦¬ìŠ¤í¬ ê´€ë¦¬ ì‹œìŠ¤í…œ (í¬ì§€ì…˜ ì‚¬ì´ì§•, ë¦¬ìŠ¤í¬ í•œë„)
- âœ… Webhook ìˆ˜ì‹  ë° ì£¼ë¬¸ ì‹¤í–‰
- âœ… WebSocket ì‹¤ì‹œê°„ í†µì‹ 

### Phase 2: AI ë¶„ì„ ê°•í™” (1ì£¼)
- âœ… ì°¨íŠ¸ íŒ¨í„´ ë¶„ì„ (GPT-4 + Claude)
- âœ… ê±°ë˜ëŸ‰ í”„ë¡œíŒŒì¼ ë¶„ì„
- âœ… í”„ë™íƒˆ í˜„ìƒ ë¶„ì„
- âœ… AI ì¢…í•© ì¶”ì²œ ì‹œìŠ¤í…œ

### Phase 3: í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ (2ì£¼)
- âœ… Next.js í”„ë¡œì íŠ¸ ì…‹ì—…
- âœ… ì¸ì¦ í˜ì´ì§€ (ë¡œê·¸ì¸, íšŒì›ê°€ì…, 2FA)
- âœ… ë©”ì¸ ëŒ€ì‹œë³´ë“œ (ì‹¤ì‹œê°„ í¬ì§€ì…˜, ìˆ˜ìµë¥ )
- âœ… ì„¤ì • í˜ì´ì§€ (ê±°ë˜ì†Œ, í…”ë ˆê·¸ë¨, ì¸ë””ì¼€ì´í„°, ì „ëµ)
- âœ… ì°¨íŠ¸ ë° ì„±ê³¼ ë¶„ì„ í˜ì´ì§€

### Phase 4: í†µí•© í…ŒìŠ¤íŠ¸ ë° ë³´ì•ˆ ê°•í™” (1ì£¼)
- âœ… ì „ì²´ í”Œë¡œìš° E2E í…ŒìŠ¤íŠ¸
- âœ… ë³´ì•ˆ ê°ì‚¬ (ì¹¨íˆ¬ í…ŒìŠ¤íŠ¸)
- âœ… ì„±ëŠ¥ ìµœì í™”
- âœ… ë¬¸ì„œí™” ì™„ì„±

### Phase 5: ë°°í¬ ë° ëª¨ë‹ˆí„°ë§ (1ì£¼)
- âœ… í”„ë¡œë•ì…˜ í™˜ê²½ ë°°í¬
- âœ… ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ êµ¬ì¶• (Grafana, Prometheus)
- âœ… ë°±ì—… ìë™í™”
- âœ… ì‚¬ìš©ì ì˜¨ë³´ë”© ê°€ì´ë“œ

---

## ì°¸ê³  ë¬¸ì„œ

- [README.md](README.md) - í”„ë¡œì íŠ¸ ê°œìš”
- [SECURITY.md](SECURITY.md) - ë³´ì•ˆ ê°€ì´ë“œ
- [PINE_SCRIPT_GUIDE.md](PINE_SCRIPT_GUIDE.md) - Pine Script AI ê°€ì´ë“œ
- [API Documentation](http://localhost:8001/docs) - Swagger UI
- [CLAUDE.md](CLAUDE.md) - Claude Code í†µí•© ì»¨í…ìŠ¤íŠ¸

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-01-18
**ë¬¸ì„œ ë²„ì „**: 2.0.0
**ì‘ì„±ì**: TradingBot AI Development Team
